
<!doctype html>
<html class="theme-next use-motion theme-next-mala">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


  <meta name="google-site-verification" content="DRmBBL5LYsJ_2wCsJIYYsBfu8hVW8DQYzmpqGMp-njU" />





  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>


    <meta name="description" content="水中月.镜中花.浮华一片苍凉.." />



  <meta name="keywords" content="challenge," />



  <link rel="alternate" href="/atom.xml" title="idhyt's blog" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="接上边继续斗智斗勇中。越来越觉得智商不够用了。。
python challenge 11http://www.pythonchallenge.com/pc/return/5808.html题目只有一张模糊的图片，源码也没什么提示，看页面title为odd even.猜测这张模糊的图片是否是将两张图片合成的，因此将其奇偶坐标分离开.分离坐标有四种情况，(odd, odd),(odd, even),(">
<meta property="og:type" content="article">
<meta property="og:title" content="python challenge 11-20">
<meta property="og:url" content="http://blog.idhyt.com/2015/08/10/python-challenge-11-20/index.html">
<meta property="og:site_name" content="idhyt's blog">
<meta property="og:description" content="接上边继续斗智斗勇中。越来越觉得智商不够用了。。
python challenge 11http://www.pythonchallenge.com/pc/return/5808.html题目只有一张模糊的图片，源码也没什么提示，看页面title为odd even.猜测这张模糊的图片是否是将两张图片合成的，因此将其奇偶坐标分离开.分离坐标有四种情况，(odd, odd),(odd, even),(">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-11.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-11-evil.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-12.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-12-evil2.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-13.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14-bit.png">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14-cat.png">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-15.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-16.gif">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-16-romance.gif">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17-alert.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17-violin.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18-deltas.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18-bin.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-19.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-20.jpg">
<meta property="og:image" content="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-20-range.jpg">
<meta property="og:updated_time" content="2016-07-07T14:14:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python challenge 11-20">
<meta name="twitter:description" content="接上边继续斗智斗勇中。越来越觉得智商不够用了。。
python challenge 11http://www.pythonchallenge.com/pc/return/5808.html题目只有一张模糊的图片，源码也没什么提示，看页面title为odd even.猜测这张模糊的图片是否是将两张图片合成的，因此将其奇偶坐标分离开.分离坐标有四种情况，(odd, odd),(odd, even),(">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mala',
    sidebar: 'post'
  };
</script>

  <title> python challenge 11-20 | idhyt's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-71783676-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?5228d77c5752954f270fcca0908555af";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">云淡风轻</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-next-about"></i> <br />
            About
          </a>
        </li>
      

      
      
    </ul>
  

  
    <div class="site-search">
      
  
  <form class="site-search-form">
    <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
  </form>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'sVJDxDCDcUGeK1KkM6zN','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    
      

      
        <style type="text/css">

    .circle {
        width: 40px;
        height: 40px;
        background: #555 no-repeat;
        cursor: move;
    }

    .assist-btn {
        position: fixed;
        top: 50％;
        left: 10px;
        -moz-border-radius: 50px;
        -webkit-border-radius: 50px;
        border-radius: 50px;
        outline: none;
        border: none;
        color: #87daff;
    }

</style>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript">
    // 浮动圆点展开与收缩
    /*
    $(function () {
        var assist_box = $('.assist-box');
        $('#assist_btn').hover(function () {
            assist_box.stop().show(300);
        }, function () {
            assist_box.stop().hide(150);
        })
    });
    */  
    //浮动圆点拖动
    $(function () {
        var box = document.getElementById('assist_btn');
        box.onmousedown = function (event) {
            var e = event || window.event,
                t = e.target || e.srcElement,
                // 鼠标按下时的坐标x1,y1
                x1 = e.clientX,
                y1 = e.clientY,
                //鼠标按下时的左右偏移量
                dragLeft = this.offsetLeft,
                dragTop = this.offsetTop;

            document.onmousemove = function (event) {
                var e = event || window.event,
                    t = e.target || e.srcElement,
                    // 鼠标移动时的动态坐标
                    x2 = e.clientX,
                    y2 = e.clientY,
                    // 鼠标移动时的坐标的变化量
                    x = x2 - x1,
                    y = y2 - y1;
                box.style.left = (dragLeft + x) + 'px';
                box.style.top = (dragTop + y) + 'px';
            }

            document.onmouseup = function () {
                this.onmousemove = null;
            }
        }
    });

/*
    $whitesmoke   = #f5f5f5
    $gainsboro    = #eee
    $gray-lighter = #ddd
    $grey-light   = #ccc
    $grey         = #bbb
    $grey-dark    = #999
    $grey-dim     = #666
    $black-light  = #555
    $black-deep   = #222
    $red          = #ff2a2a
    $blue-bright  = #87daff
    $blue         = #0684bd
    $blue-deep    = #262a30
*/
    // white theme
    var body = {color: "#555", background: "white"};
    var a_tag = {color: "#222"};
    var header = { background: "#f5f5f5"};
    var logo_line_i = {background: "#222"};
    // var post_code = {background: "#eee", color: "#222"};

    function switch_theme() {
        $("body").css(body);
        $("a:not('.links-of-author-item a, .site-state-item a, .site-state-posts a, .feed-link a, .motion-element a, .post-tags a, .show-commit-cls a, #donate_board a')").css(a_tag);
        $(".header, .footer").css(header);
        $(".logo-line-before i, .logo-line-after i").css(logo_line_i);
        //$(".post code").css(post_code);
        $("#idhyt-surprise-ball #idhyt-surprise-ball-animation .drag").css(a_tag);
        $(".post-title-link, .posts-expand .post-meta, .post-comments-count, .disqus-comment-count, .post-category a, .post-nav-next a, .post-nav-item a").css(a_tag);
        
        // $("code").css({color: '#c5c8c6', background: '#1d1f21'});
        $("#assist_btn").hide(1500);
    }

    $(function () {
        $("#assist_btn").dblclick(function() {
            switch_theme();
        });
    });

</script>

<div>

    <button class="assist-btn circle" id="assist_btn" title="双击切换">
        亮
    </button>

</div>









      

    

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              python challenge 11-20
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-10T17:34:11+08:00" content="2015-08-10">
            2015-08-10
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/python/" itemprop="url" rel="index">
                  <span itemprop="name">python</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/10/python-challenge-11-20/#comments" itemprop="discussionUrl">
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/10/python-challenge-11-20/" itemprop="commentsCount"></span>
            </a>
          </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>接上边继续斗智斗勇中。越来越觉得智商不够用了。。</p>
<h3 id="python_challenge_11"><a href="http://www.pythonchallenge.com/pc/return/5808.html" target="_blank" rel="external">python challenge 11</a></h3><p><code>http://www.pythonchallenge.com/pc/return/5808.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-11.jpg" alt="11"><br>题目只有一张模糊的图片，源码也没什么提示，看页面title为odd even.<br>猜测这张模糊的图片是否是将两张图片合成的，因此将其奇偶坐标分离开.<br>分离坐标有四种情况，(odd, odd),(odd, even),(even, odd),(even, even).<br>我这里取双奇偶坐标(odd, odd)和(even, even).<br>在PIL库中，使用load函数的效果比使用putpixel和getpixel更高效，因此选择使用load函数.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd_even</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">    im = Image.open(<span class="string">"img/python-challenge-11.jpg"</span>)</span><br><span class="line">    w, h = im.size</span><br><span class="line"></span><br><span class="line">    imgs = [Image.new(im.mode, (w / <span class="number">2</span>, h / <span class="number">2</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">2</span>)]</span><br><span class="line">    imgs_load = [img.load() <span class="keyword">for</span> img <span class="keyword">in</span> imgs]</span><br><span class="line">    org = im.load()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(w):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(h):</span><br><span class="line">            <span class="keyword">if</span> (i + j) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                org_pos = (i, j)</span><br><span class="line">                new_pos = (i / <span class="number">2</span>, j / <span class="number">2</span>)</span><br><span class="line">                imgs_load[i % <span class="number">2</span>][new_pos] = org[org_pos]</span><br><span class="line"></span><br><span class="line">    [imgs[i].save(<span class="string">'img/python-challenge-11-%d.jpg'</span> % i) <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">2</span>)]</span><br></pre></td></tr></table></figure></p>
<p>最后生成的两张图片是一样的<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-11-evil.jpg" alt="11-evil"><br>显示的单词evil即为答案。</p>
<h3 id="python_challenge_12"><a href="http://www.pythonchallenge.com/pc/return/evil.html" target="_blank" rel="external">python challenge 12</a></h3><p><code>http://www.pythonchallenge.com/pc/return/evil.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-12.jpg" alt="12"><br>一张没有什么异常的图片，查看下源码，注意看图片名字，evil1.jpg，这里应该尝试下evil2.jpg了。<br>evil2.jpg -&gt; not jpg –gfx<br>evil3.jpg -&gt; no more evils…<br>evil4.jpg -&gt; Bert is evil! go back!(只在ie中可看到)<br>根据这些提示，先将evil2.jpg改为evil2.gfx，得到这个文件<br>GFX文件格式：GFX是一套跨平台的图形生成包，是一种可用于交互的图形格式，详情百度下。<br>到这里就没有思路了，看了下提示才知道，原来原图那人把扑克牌分成5堆，要把那个gfx文件用分牌的方式分成5个文件。<br>gfx的第一个字节给第一个文件，第二个字节给第二个文件，第三个字节给第三个文件，第四个字节给第四个文件，第五个字节给第五个文件，第六个字节给第一个文件……<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">evil</span><span class="params">()</span>:</span></span><br><span class="line">    f = open(<span class="string">'files/evil2.gfx'</span>, <span class="string">'rb+'</span>)</span><br><span class="line">    content = f.read()</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">5</span>):</span><br><span class="line">        f = open(<span class="string">'files/evil2-%d.jpg'</span> % i, <span class="string">'wb+'</span>)</span><br><span class="line">        f.write(content[i::<span class="number">5</span>])</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure></p>
<p>最后得到5张图片连接起来即为结果:disproportional<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-12-evil2.jpg" alt="12-evil2"></p>
<h3 id="python_challenge_13"><a href="http://www.pythonchallenge.com/pc/return/disproportional.html" target="_blank" rel="external">python challenge 13</a></h3><p><code>http://www.pythonchallenge.com/pc/return/disproportional.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-13.jpg" alt="13"><br>这个页面显示了一个电话按键，并且标题为call him，很明显是要拨打一个电话号码。<br>图片最下边提示phone that evil，再回头看那个evil4.jpg的提示，Bert is evil! go back!<br>所以是要打电话给Bert,怎么打，不可能用自己手机打吧！然后在页面到处点点，一不小心点到了5就进去了。<br>进入页面：<a href="http://www.pythonchallenge.com/pc/phonebook.php" target="_blank" rel="external">http://www.pythonchallenge.com/pc/phonebook.php</a><br>这是什么鬼，止步于此，开始度娘。。。<br>xmlrpc是使用http协议做为传输协议的rpc机制，使用xml文本的方式传输命令和数据blablabla…<br>反正就是要用到python的<a href="https://docs.python.org/2/library/xmlrpclib.html" target="_blank" rel="external">xmlrpclib模块</a>来连接这个php页面，然后查看其方法，其中有个名为phone方法就是答案。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">disproportional</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">import</span> xmlrpclib</span><br><span class="line">    xml_rpc = xmlrpclib.ServerProxy(<span class="string">"http://www.pythonchallenge.com/pc/phonebook.php"</span>)</span><br><span class="line">    <span class="keyword">print</span> xml_rpc.system.listMethods()</span><br><span class="line">    <span class="keyword">print</span> xml_rpc.system.methodHelp(<span class="string">'phone'</span>)</span><br><span class="line">    <span class="keyword">print</span> xml_rpc.phone(<span class="string">'Bert'</span>)</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>[<span class="string">'phone'</span>, <span class="string">'system.listMethods'</span>, <span class="string">'system.methodHelp'</span>, <span class="string">'system.methodSignature'</span>, <span class="string">'system.multicall'</span>, <span class="string">'system.getCapabilities'</span>]</span><br><span class="line">    Returns the phone of a person</span><br><span class="line">    <span class="number">555</span>-ITALY</span><br></pre></td></tr></table></figure></p>
<p>最后输入555-ITALY.html不行。。改为ITALY.html提示SMALL letters。。好吧。。italy.html</p>
<h3 id="python_challenge_14"><a href="http://www.pythonchallenge.com/pc/return/italy.html" target="_blank" rel="external">python challenge 14</a></h3><p><code>http://www.pythonchallenge.com/pc/return/italy.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14.jpg" alt="14"><br>所有提示信息：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">根据网页标题的提示：walk around</span><br><span class="line">网页源码的提示：<span class="number">100</span>*<span class="number">100</span> = (<span class="number">100</span>+<span class="number">99</span>+<span class="number">99</span>+<span class="number">98</span>) + (...</span><br><span class="line">下边那张图wire.png点开标题为<span class="number">10000</span>*<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>先验证序列公式<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 100*100 = (100+99+99+98) + (...</span></span><br><span class="line">items = [i + i-<span class="number">1</span> + i-<span class="number">1</span> + i-<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">100</span>, <span class="number">1</span>, -<span class="number">2</span>)]</span><br><span class="line">items_value = reduce(<span class="keyword">lambda</span> x, y: x+y, items)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"%d %d"</span> % (len(items), items_value)</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="number">50</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure></p>
<p>可知该序列公式是正确的。<br>10000x1 = 100x100是否要重新组图，按照这个思路把10000个像素重组<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">org_img = Image.open(<span class="string">'img/wire.png'</span>)</span><br><span class="line">org_data = list(org_img.getdata())</span><br><span class="line">res_img = Image.new(org_img.mode, (<span class="number">100</span>, <span class="number">100</span>))</span><br><span class="line">res_data = res_img.load()</span><br><span class="line">org_index = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">100</span>):</span><br><span class="line">        res_data[j, i] = org_data[org_index]</span><br><span class="line">        org_index += <span class="number">1</span></span><br><span class="line">res_img.save(<span class="string">"img/wire-0.png"</span>)</span><br></pre></td></tr></table></figure></p>
<p>最开始是按照先行后列的方式重组发现图片是反的，然后按照先列后行的方式重组，得到一个图片。<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14-bit.png" alt="14-bit"><br>万分欣喜，进入bit.html页面就傻了：you took the wrong curve.<br>真是个悲伤的故事。。。<br>下边就完全没有任何头绪，只要又要借助度娘了，最后得到的解题思路是：<br>将10000x1的那张图片按照序列化的格式进行重新生成100x100的图片，生成的逻辑是：<br>按照图片面包的方向，从右边开始，外向内绕圈圈，<br>先向一个方向走100个像素，然后转90度，走99个像素，再转90度，再走99个像素，再转90度，再走98个像素，这样就完成了一个圈。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">italy</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">    <span class="comment"># 100*100 ＝ （100 + 99 + 99 + 98)+(...</span></span><br><span class="line">    items = [[i, i-<span class="number">1</span>, i-<span class="number">1</span>, i-<span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">100</span>, <span class="number">1</span>, -<span class="number">2</span>)]</span><br><span class="line"></span><br><span class="line">    org_img = Image.open(<span class="string">'img/wire.png'</span>)</span><br><span class="line">    org_data = list(org_img.getdata())</span><br><span class="line">    new_img = Image.new(org_img.mode, (<span class="number">100</span>, <span class="number">100</span>))</span><br><span class="line">    new_data = new_img.load()</span><br><span class="line"></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    x = y = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(item[<span class="number">0</span>]):</span><br><span class="line">            new_data[x, y] = org_data[index]</span><br><span class="line">            x += <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        x -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(item[<span class="number">1</span>]):</span><br><span class="line">            new_data[x, y] = org_data[index]</span><br><span class="line">            y += <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        y -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(item[<span class="number">2</span>]):</span><br><span class="line">            new_data[x, y] = org_data[index]</span><br><span class="line">            x -= <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        x += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(item[<span class="number">3</span>]):</span><br><span class="line">            new_data[x, y] = org_data[index]</span><br><span class="line">            y -= <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        y += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    new_img.save(<span class="string">'img/wire-cat.png'</span>)</span><br></pre></td></tr></table></figure></p>
<p>最后得到了一张图片<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-14-cat.png" alt="14-cat"><br>然后输入cat.html进入页面，出现了两只猫的图片，并有一段说明：<br>and its name is uzi. you’ll hear from him later.<br>替换为uzi.html进入下一题，uzi不是小狗吗 = =!</p>
<h3 id="python_challenge_15"><a href="http://www.pythonchallenge.com/pc/return/uzi.html" target="_blank" rel="external">python challenge 15</a></h3><p><code>http://www.pythonchallenge.com/pc/return/uzi.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-15.jpg" alt="15"></p>
<p>先找到所有有用的提示：</p>
<ul>
<li>图片信息<br>1**6年1月26日<br>右下角2月份有29天 说明是闰年 且2月29日为周日</li>
<li>页面标题<br>whom 猜测应该是找人</li>
<li><p>网页源码<br>he ain’t the youngest, he is the second # 应该是找到一个年龄列表中第二年轻的<br>buy flowers for tomorrow # 结合1月26日应该是说明天即1月27日有事件发生</p>
</li>
<li><p>结合以上信息<br>应该是找到1**6年中的所有闰年，且2月29日为周一的时间中第二个年轻的年份，<br>然后加上1月27日得到一个事件时间，这个时间和一个人有关系。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># run in python 3.0+</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uzi</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_week_day</span><span class="params">(year_, mouth_, day_)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> datetime(year_, mouth_, day_).strftime(<span class="string">"%w"</span>)</span><br><span class="line"></span><br><span class="line">    leap_years = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1006</span>, <span class="number">1997</span>, <span class="number">10</span>) <span class="keyword">if</span> (i % <span class="number">4</span> == <span class="number">0</span> <span class="keyword">and</span> i % <span class="number">100</span> != <span class="number">0</span>) <span class="keyword">or</span> i % <span class="number">400</span> == <span class="number">0</span>]</span><br><span class="line">    <span class="comment"># print (leap_years)</span></span><br><span class="line">    match_year = [y <span class="keyword">for</span> y <span class="keyword">in</span> leap_years <span class="keyword">if</span> get_week_day(y, <span class="number">2</span>, <span class="number">29</span>) == <span class="string">"0"</span>]</span><br><span class="line">    <span class="keyword">print</span> (match_year)</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"%d-01-17"</span> % match_year[-<span class="number">2</span>])</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>[<span class="number">1176</span>, <span class="number">1356</span>, <span class="number">1576</span>, <span class="number">1756</span>, <span class="number">1976</span>]</span><br><span class="line">    <span class="number">1756</span>-<span class="number">01</span>-<span class="number">17</span></span><br></pre></td></tr></table></figure>
<p>由于python2.7版本中the datetime strftime() methods require year &gt;= 1900,<br>因此该代码需要运行在python3.0+<br>最后百度关键词1756年1月27日，著名的音乐大师沃尔弗于格·莫扎特(mozart),诞生于奥地利查尔茨堡。<br>诞生于，诞生啊。。其实最初我以为送花是第二天有人挂掉了去拜祭。。面壁思过中。。。</p>
<h3 id="python_challenge_16"><a href="http://www.pythonchallenge.com/pc/return/mozart.html" target="_blank" rel="external">python challenge 16</a></h3><p><code>http://www.pythonchallenge.com/pc/return/mozart.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-16.gif" alt="16"><br>页面标题提示：let me get this straight<br>观察图片将粉色的线条对齐排成一列，即将每行像素点循环左移知道粉色点位于最左边。<br>其中图片模式为索引像素模式，用ps查看得到粉色Idx=195,对应RGB=(255, 0, 255)。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mozart</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">    org_img = Image.open(<span class="string">'img/mozart.gif'</span>)</span><br><span class="line">    org_size = org_img.size</span><br><span class="line">    org_data = list(org_img.getdata())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># new_img = Image.new(org_img.mode, org_size)</span></span><br><span class="line">    new_img = org_img.copy()</span><br><span class="line">    new_data = new_img.load()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(org_size[<span class="number">1</span>]):</span><br><span class="line">        line_pixels = org_data[org_size[<span class="number">0</span>] * y: org_size[<span class="number">0</span>] * (y + <span class="number">1</span>)]</span><br><span class="line">        pink_index = line_pixels.index(<span class="number">195</span>)</span><br><span class="line">        <span class="keyword">for</span> x, pixel <span class="keyword">in</span> enumerate(line_pixels[pink_index:] + line_pixels[:pink_index]):</span><br><span class="line">            new_data[x, y] = pixel</span><br><span class="line"></span><br><span class="line">    new_img.save(<span class="string">"img/romance.gif"</span>)</span><br></pre></td></tr></table></figure></p>
<p>最后生成答案图片<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-16-romance.gif" alt="16-romance"></p>
<h3 id="python_challenge_17"><a href="http://www.pythonchallenge.com/pc/return/romance.html" target="_blank" rel="external">python challenge 17</a></h3><p><code>http://www.pythonchallenge.com/pc/return/romance.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17.jpg" alt="17"><br>做这个题请自觉开启自虐模式，不要问我为什么，我只想静静。<br>页面标题：eat? 看下源代码图片名字为cookies.jpg<br>cookies点心？cookie?打开chrome控制台输入alert(document.cookie)<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17-alert.jpg" alt="17-alert"><br>you should have followed busynothing…<br>结合图片左下角linkedlist页面的图片，想到之前遍历时候找的每个页面，这个应该是遍历找每个页面的cookie信息了。<br>初步验证，先进入linkedlist的第一个节点：<br><a href="http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing=12345" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing=12345</a><br>页面内容：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">If you came here <span class="keyword">from</span> level <span class="number">4</span> - go back!</span><br><span class="line">You should follow the obvious chain...</span><br><span class="line"></span><br><span class="line"><span class="keyword">and</span> the next busynothing <span class="keyword">is</span> <span class="number">44827</span></span><br></pre></td></tr></table></figure></p>
<p>大概意思是说这个界面如果你是从第四关跳进去的话请返回,显示的关键字会是nothing而非busynothing。<br>因此一定要从第一个节点进入，不要从linkedlist.php点击图片进入，否则获取不到cookie信息。<br>弹出的cookie信息为：info=B<br>第二个节点：<a href="http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing=44827" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/linkedlist.php?busynothing=44827</a><br>弹出的cookie信息为：info=Z<br>是不是有点眼熟，回头找找第8关的BZ2压缩。。<br>之后是写代码之路，其中cookie模块参考：<a href="http://my.oschina.net/duhaizhang/blog/69342" target="_blank" rel="external">urllib2模块、cookielib模块</a><br>遍历完cookie信息后得到字符串：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BZh91AY%<span class="number">26</span>SY%<span class="number">94</span>%<span class="number">3</span>A%E2I%<span class="number">00</span>%<span class="number">00</span>%<span class="number">21</span>%<span class="number">19</span>%<span class="number">80</span>P%<span class="number">81</span>%<span class="number">11</span>%<span class="number">00</span>%AFg%<span class="number">9</span>E%A0+%<span class="number">00</span>hE%<span class="number">3</span>DM%B5%<span class="number">23</span>%D0%D4%D1%E2%<span class="number">8</span>D%<span class="number">06</span>%A9%FA%<span class="number">26</span>S%D4%D3%<span class="number">21</span>%A1%EAi7h%<span class="number">9</span>B%<span class="number">9</span>A%<span class="number">2</span>B%BF%<span class="number">60</span>%<span class="number">22</span>%C5WX%E1%ADL%<span class="number">80</span>%E8V%<span class="number">3</span>C%C6%A8%DBH%<span class="number">2632</span>%<span class="number">18</span>%A8x%<span class="number">01</span>%<span class="number">08</span>%<span class="number">21</span>%<span class="number">8</span>DS%<span class="number">0</span>B%C8%AF%<span class="number">96</span>KO%CA2%B0%F1%BD%<span class="number">1</span>Du%A0%<span class="number">86</span>%<span class="number">05</span>%<span class="number">92</span>s%B0%<span class="number">92</span>%C4Bc%F1w%<span class="number">24</span>S%<span class="number">85</span>%<span class="number">09</span>%<span class="number">09</span>C%AE%<span class="number">24</span></span><br></pre></td></tr></table></figure></p>
<p>看看格式应该是转义过的，调用urllib转义函数得到结果：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BZh91AY&amp;SY\x94:\xe2I\x00\x00!\x19\x80P\x81\x11\x00\xafg\x9e\xa0 \x00hE=M\xb5<span class="comment">#\xd0\xd4\xd1\xe2\x8d\x06\xa9\xfa&amp;S\xd4\xd3!\xa1\xeai7h\x9b\x9a+\xbf`"\xc5WX\xe1\xadL\x80\xe8V&lt;\xc6\xa8\xdbH&amp;32\x18\xa8x\x01\x08!\x8dS\x0b\xc8\xaf\x96KO\xca2\xb0\xf1\xbd\x1du\xa0\x86\x05\x92s\xb0\x92\xc4Bc\xf1w$S\x85\t\tC\xae$\x90</span></span><br></pre></td></tr></table></figure></p>
<p>这个看着就很熟悉了，调用bz2进行解压<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">is it the 26th already? call his father and inform him that "the flowers are on their way". he'll understand.</span><br></pre></td></tr></table></figure></p>
<p>这个结果看的也是格外的忧伤，竟然还有这么多的坑。。看看26th说的是莫扎特，查下莫扎特的老爹为Leopold。<br>试试Leopold.html,404啊，404！！！<br>再仔细看，call his father，打电话，电话！！！<br>调用13关的代码Bert改为Leopold返回555-VIOLIN<br>参考13关去数字改小写地址为violin.html，竟然还有，呵呵哒。。。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">no! i mean yes! but ../stuff/violin.php.</span><br></pre></td></tr></table></figure></p>
<p>再改将上级目录改为/stuff/violin.php<br>即<a href="http://www.pythonchallenge.com/pc/stuff/violin.php" target="_blank" rel="external">http://www.pythonchallenge.com/pc/stuff/violin.php</a><br>看到图片我以为终于完了，仔细一看，编号呢，没编号肯定还是个坑啊，我内心几乎是崩溃的。。<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-17-violin.jpg" alt="17-violin"></p>
<p>看下页面提示标题：it’s me. what do you want?<br>返回页面也没有什么其他信息，答案在哪里？！？！？<br>想想这个题主题是cookie,回头再看上边的解压出来的提示信息，后半句还没有用到。<br>inform him that “the flowers are on their way”<br>翻译是告诉他鲜花已经来路上，暗示要给他携带信息。<br>也就是说要带上info=”the flowers are on their way”消息去访问这个页面！<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cj._cookies.values()[<span class="number">0</span>][<span class="string">'/'</span>][<span class="string">'info'</span>].value = <span class="string">'the+flowers+are+on+their+way'</span></span><br><span class="line">violin_source = opener.open(<span class="string">'http://www.pythonchallenge.com/pc/stuff/violin.php'</span>).read()</span><br><span class="line"><span class="keyword">print</span> violin_source</span><br></pre></td></tr></table></figure></p>
<p>打印出来的页面：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;it's me. what do you want?&lt;/title&gt;</span><br><span class="line">  &lt;link rel="stylesheet" type="text/css" href="../style.css"&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;br&gt;&lt;br&gt;</span><br><span class="line">    &lt;center&gt;&lt;font color="gold"&gt;</span><br><span class="line">    &lt;img src="leopold.jpg" border="0"/&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">oh well, don't you dare to forget the balloons.&lt;/font&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>终于出结果了，balloons，感觉已经可以开始google大法了QAQ。。</p>
<p>完整逻辑代码，其中略掉level13的代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">romance</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">import</span> urllib2</span><br><span class="line">    <span class="keyword">import</span> cookielib</span><br><span class="line">    <span class="keyword">import</span> urllib</span><br><span class="line"></span><br><span class="line">    cj = cookielib.CookieJar()</span><br><span class="line">    handler = urllib2.HTTPCookieProcessor(cj)</span><br><span class="line">    opener = urllib2.build_opener(handler)</span><br><span class="line"></span><br><span class="line">    base_url = <span class="string">"http://www.pythonchallenge.com/pc/def/linkedlist.php"</span></span><br><span class="line">    param = <span class="string">"12345"</span></span><br><span class="line">    times = <span class="number">1</span></span><br><span class="line">    info = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            url = <span class="string">"?busynothing="</span>.join([base_url, param])</span><br><span class="line">            page_source = opener.open(url).read()</span><br><span class="line">            param = re.findall(<span class="string">"and the next busynothing is ([0-9]+)"</span>, page_source)[<span class="number">0</span>]</span><br><span class="line">            ck = cj._cookies.values()[<span class="number">0</span>][<span class="string">'/'</span>][<span class="string">'info'</span>].value</span><br><span class="line">            info.append(ck)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"%d -&gt; %s -&gt; %s"</span> % (times, param, ck)</span><br><span class="line">            times += <span class="number">1</span></span><br><span class="line">        <span class="comment"># 匹配不到跳到异常</span></span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"the end is : %d"</span> % times</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    message = <span class="string">""</span>.join(info)</span><br><span class="line">    <span class="keyword">print</span> message</span><br><span class="line">    <span class="comment"># 转义</span></span><br><span class="line">    message = urllib.unquote_plus(message)</span><br><span class="line">    result = message.decode(<span class="string">"bz2"</span>)</span><br><span class="line">    <span class="keyword">print</span> result</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ---level 13 code ---#</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># url = "?busynothing=".join([base_url, param])</span></span><br><span class="line">    <span class="comment"># page_source = opener.open(url).read()</span></span><br><span class="line">    cj._cookies.values()[<span class="number">0</span>][<span class="string">'/'</span>][<span class="string">'info'</span>].value = <span class="string">'the+flowers+are+on+their+way'</span></span><br><span class="line">    violin_source = opener.open(<span class="string">'http://www.pythonchallenge.com/pc/stuff/violin.php'</span>).read()</span><br><span class="line">    <span class="keyword">print</span> violin_source</span><br></pre></td></tr></table></figure></p>
<h3 id="python_challenge_18"><a href="http://www.pythonchallenge.com/pc/return/balloons.html" target="_blank" rel="external">python challenge 18</a></h3><p><code>http://www.pythonchallenge.com/pc/return/balloons.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18.jpg" alt="18"><br>页面标题：can you tell the difference?<br>明显的两张图片亮度不同，英文brightness.<br>进入该页面后再看源码提示：maybe consider deltas.gz<br>将该文件下载下来，解压后看到delta.txt里是分为两栏的16进制数据。<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18-deltas.jpg" alt="18-deltas"><br>仔细对比两边内容，发现有部分重复的，也就是通过比较两栏内容，来分发字节。<br>左边特有的，右边特有的，公共部分，分别生成三张图片。<br>这里需要用到difflib模块来进行数据处理。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">balloons</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">import</span> difflib</span><br><span class="line">    f_delta = open(<span class="string">'files/delta.txt'</span>, <span class="string">'r+'</span>)</span><br><span class="line">    deltas = f_delta.read().split(<span class="string">'\n'</span>)</span><br><span class="line">    f_delta.close()</span><br><span class="line"></span><br><span class="line">    left_data = []</span><br><span class="line">    right_data = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> deltas:</span><br><span class="line">        left_data.append(line[:<span class="number">53</span>]+<span class="string">'\n'</span>)</span><br><span class="line">        right_data.append(line[<span class="number">56</span>:]+<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">    diff = difflib.Differ()</span><br><span class="line">    cmp_result = list(diff.compare(left_data, right_data))</span><br><span class="line"></span><br><span class="line">    left_pic = open(<span class="string">'img/18-left-diff.png'</span>, <span class="string">'wb'</span>)</span><br><span class="line">    right_pic = open(<span class="string">'img/18-right-diff.png'</span>, <span class="string">'wb'</span>)</span><br><span class="line">    common_pic = open(<span class="string">'img/18-common.png'</span>, <span class="string">'wb'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> cmp_result:</span><br><span class="line">        bytes = [(chr(int(h, <span class="number">16</span>))) <span class="keyword">for</span> h <span class="keyword">in</span> line[<span class="number">2</span>:].split()]</span><br><span class="line">        <span class="keyword">if</span> line.startswith(<span class="string">'-'</span>):</span><br><span class="line">            map(left_pic.write, bytes)</span><br><span class="line">        <span class="keyword">elif</span> line.startswith(<span class="string">'+'</span>):</span><br><span class="line">            map(right_pic.write, bytes)</span><br><span class="line">        <span class="keyword">elif</span> line.startswith(<span class="string">' '</span>):</span><br><span class="line">            map(common_pic.write, bytes)</span><br><span class="line"></span><br><span class="line">    right_pic.close()</span><br><span class="line">    left_pic.close()</span><br><span class="line">    common_pic.close()</span><br></pre></td></tr></table></figure></p>
<p>最后生成的三张图片<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-18-bin.jpg" alt="18-bin"><br>进入<a href="http://www.pythonchallenge.com/pc/hex/bin.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/hex/bin.html</a><br>用户名：butter 密码：fly</p>
<h3 id="python_challenge_19"><a href="http://www.pythonchallenge.com/pc/hex/bin.html" target="_blank" rel="external">python challenge 19</a></h3><p><code>http://www.pythonchallenge.com/pc/hex/bin.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-19.jpg" alt="19"><br>看网页源码，base64加密一段音频数据indian.wav<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hex_bin</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">import</span> base64</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"Authorization"</span>: <span class="string">"Basic YnV0dGVyOmZseQ=="</span></span><br><span class="line">    &#125;</span><br><span class="line">    page_source = requests.get(<span class="string">"http://www.pythonchallenge.com/pc/hex/bin.html"</span>, headers=headers).text</span><br><span class="line">    wav_data = re.findall(<span class="string">r"base64([\s\S]+?)--"</span>, page_source)[<span class="number">0</span>].strip(<span class="string">"\n"</span>)</span><br><span class="line">    indian = open(<span class="string">"files/indian.wav"</span>, <span class="string">"wb"</span>)</span><br><span class="line">    indian.write(base64.b64decode(wav_data))</span><br><span class="line">    indian.close()</span><br></pre></td></tr></table></figure></p>
<p>打开生成的音频文件，有个怪怪的声音：sorry..<br>打开sorry界面显示：what are you apologizing for<br>再回头看看图片，大陆和海洋的颜色是反转的，尝试将音频每一帧反转<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hex_bin</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">import</span> base64</span><br><span class="line">    <span class="keyword">import</span> wave</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"Authorization"</span>: <span class="string">"Basic YnV0dGVyOmZseQ=="</span></span><br><span class="line">    &#125;</span><br><span class="line">    page_source = requests.get(<span class="string">"http://www.pythonchallenge.com/pc/hex/bin.html"</span>, headers=headers).text</span><br><span class="line">    wav_data = re.findall(<span class="string">r"base64([\s\S]+?)--"</span>, page_source)[<span class="number">0</span>].strip(<span class="string">"\n"</span>)</span><br><span class="line">    indian = open(<span class="string">"files/indian.wav"</span>, <span class="string">"wb"</span>)</span><br><span class="line">    indian.write(base64.b64decode(wav_data))</span><br><span class="line">    indian.close()</span><br><span class="line"></span><br><span class="line">    indian = wave.open(<span class="string">"files/indian.wav"</span>, <span class="string">"rb"</span>)</span><br><span class="line">    reverse = wave.open(<span class="string">"files/indian-reverse.wav"</span>, <span class="string">"wb"</span>)</span><br><span class="line">    reverse.setnchannels(<span class="number">1</span>)</span><br><span class="line">    reverse.setframerate(indian.getframerate())</span><br><span class="line">    reverse.setsampwidth(indian.getsampwidth())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(indian.getnframes()):</span><br><span class="line">        reverse.writeframes(indian.readframes(<span class="number">1</span>)[::-<span class="number">1</span>])</span><br><span class="line">    indian.close()</span><br><span class="line">    reverse.close()</span><br></pre></td></tr></table></figure></p>
<p>播放下听听，You are a idiot ha ha ha ha ha ha …..<br>进入idiot.html显示：Now you should apologize,Continue to the next level进入下一关。</p>
<h3 id="python_challenge_20"><a href="http://www.pythonchallenge.com/pc/hex/idiot2.html" target="_blank" rel="external">python challenge 20</a></h3><p><code>http://www.pythonchallenge.com/pc/hex/idiot2.html</code><br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-20.jpg" alt="20"><br>页面标题：go away!<br>图片下边：but inspecting it carefully is allowed.<br>大概意思是围栏那边的是私有财产，请离开私有财产，虽然不允许进入，但可以观察。<br>没有一点思路，谷歌大法好，抓下图片包看下请求头信息：<br><img src="http://o9xrwsn0z.bkt.clouddn.com/python-challenge-20-range.jpg" alt="20-range"><br>这里的Content-Range的值是: bytes 0-30202/2123456789，这看上去与所谓的“断点续传”十分相似。<br>从这个信息知道原始图片大小有2123456789个字节，但是目前的“unreal.jpg” 只有前面的30202 个字节，这就说明看到的“unreal.jpg”并不完整。<br>那就先要把“unreal.jpg”下载完全才行。<br>要指定请求的字节范围，需要在请求中加入一个叫Range的头，基本形式是“Range: bytes=1000-2345”。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">"Authorization"</span>: <span class="string">"Basic YnV0dGVyOmZseQ=="</span>,</span><br><span class="line">    <span class="string">"Range"</span>: <span class="string">"bytes=30203-"</span></span><br><span class="line">&#125;</span><br><span class="line">img = requests.get(<span class="string">"http://www.pythonchallenge.com/pc/hex/unreal.jpg"</span>, headers=headers)</span><br><span class="line"><span class="keyword">print</span> img.text</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="string">u"Why don't you respect my privacy?\n"</span></span><br></pre></td></tr></table></figure></p>
<p>服务器返回了有意义的信息，因此写个遍历将所有信息打印出来。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def idiot2():</span><br><span class="line">    pic_url = "http://www.pythonchallenge.com/pc/hex/unreal.jpg"</span><br><span class="line">    next_range = 30203</span><br><span class="line">    end_range = 2123456789</span><br><span class="line">    while next_range &lt;= end_range:</span><br><span class="line">        headers = &#123;</span><br><span class="line">            "Authorization": "Basic YnV0dGVyOmZseQ==",</span><br><span class="line">            "Range": "bytes=%d-" % next_range</span><br><span class="line">        &#125;</span><br><span class="line">        img = requests.get(pic_url, headers=headers)</span><br><span class="line">        if img.status_code == 206:</span><br><span class="line">            print "range : %d -&gt; %s" % (next_range, img.text)</span><br><span class="line">            content_range = img.headers.get("Content-Range")</span><br><span class="line">            next_range = re.findall(r"bytes.+-(\d+)/", content_range)[0]</span><br><span class="line">            next_range = int(next_range) + 1</span><br><span class="line">        else:</span><br><span class="line">            break</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">    range : 30203 -&gt; Why don't you respect my privacy?</span><br><span class="line">    range : 30237 -&gt; we can go on in this way for really long time.</span><br><span class="line">    range : 30284 -&gt; stop this!</span><br><span class="line">    range : 30295 -&gt; invader! invader!</span><br><span class="line">    range : 30313 -&gt; ok, invader. you are inside now.</span><br><span class="line">    Process finished with exit code 0</span><br></pre></td></tr></table></figure></p>
<p>信息中反复提到的入侵者invader，尝试更换下网址为invader.html。<br>页面显示：Yes! that’s you! 这提示，然并卵。。。<br>从前边入侵不行，那就从后边入侵试试？<br>将代码中next_range改为2123456789打印出来为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esrever ni emankcin wen ruoy si drowssap eht</span><br></pre></td></tr></table></figure></p>
<p>将其反过来<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">end_text = <span class="string">"esrever ni emankcin wen ruoy si drowssap eht"</span></span><br><span class="line">result = [text_[::-<span class="number">1</span>] <span class="keyword">for</span> text_ <span class="keyword">in</span> end_text.split()[::-<span class="number">1</span>]]</span><br><span class="line"><span class="keyword">print</span> <span class="string">" "</span>.join(result)</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>the password <span class="keyword">is</span> your new nickname <span class="keyword">in</span> reverse</span><br></pre></td></tr></table></figure></p>
<p>通过读取Content-Range再入侵前一个得到信息：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range : 2123456743 -&gt; and it is hiding at 1152983631.</span><br></pre></td></tr></table></figure></p>
<p>通过这条信息得之其隐藏在1152983631，入侵之后得到pk开头的数据即zip包。<br>将其下载下来，解压需要密码，密码看前边的提示信息：<br>the password is your new nickname in reverse<br>新绰号即为入侵者invader，反过来为redavni。<br>解压过后生成两个文件，package.pack和readme.txt,打开readme文件内容为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Yes! This <span class="keyword">is</span> really level <span class="number">21</span> <span class="keyword">in</span> here.</span><br><span class="line">And yes, After you solve it, yo<span class="string">u'll be in level 22!</span><br><span class="line"></span><br><span class="line">Now for the level:</span><br><span class="line"></span><br><span class="line">* We used to play this game when we were kids</span><br><span class="line">* When I had no idea what to do, I looked backwards.</span></span><br></pre></td></tr></table></figure></p>
<p>已经进入了level 21.<br>完整代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">idiot2</span><span class="params">()</span>:</span></span><br><span class="line">    pic_url = <span class="string">"http://www.pythonchallenge.com/pc/hex/unreal.jpg"</span></span><br><span class="line">    next_range = <span class="number">30203</span></span><br><span class="line">    end_range = <span class="number">2123456789</span></span><br><span class="line">    <span class="keyword">while</span> next_range &lt;= end_range:</span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">"Authorization"</span>: <span class="string">"Basic YnV0dGVyOmZseQ=="</span>,</span><br><span class="line">            <span class="string">"Range"</span>: <span class="string">"bytes=%d-"</span> % next_range</span><br><span class="line">        &#125;</span><br><span class="line">        img = requests.get(pic_url, headers=headers)</span><br><span class="line">        <span class="keyword">if</span> img.status_code == <span class="number">206</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"range : %d -&gt; %s"</span> % (next_range, img.text)</span><br><span class="line">            content_range = img.headers.get(<span class="string">"Content-Range"</span>)</span><br><span class="line">            next_range = re.findall(<span class="string">r"bytes.+-(\d+)/"</span>, content_range)[<span class="number">0</span>]</span><br><span class="line">            next_range = int(next_range) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># reverse</span></span><br><span class="line">    cur_range = <span class="number">2123456789</span></span><br><span class="line">    end_range = <span class="number">2123456789</span></span><br><span class="line">    is_download = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">while</span> cur_range &lt;= end_range:</span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">"Authorization"</span>: <span class="string">"Basic YnV0dGVyOmZseQ=="</span>,</span><br><span class="line">            <span class="string">"Range"</span>: <span class="string">"bytes=%d-"</span> % cur_range</span><br><span class="line">        &#125;</span><br><span class="line">        img = requests.get(pic_url, headers=headers)</span><br><span class="line">        <span class="keyword">if</span> img.status_code == <span class="number">206</span>:</span><br><span class="line">            <span class="keyword">if</span> is_download <span class="keyword">is</span> <span class="keyword">True</span>:</span><br><span class="line">                open(<span class="string">"files/invader.zip"</span>, <span class="string">"wb"</span>).write(img.content)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">print</span> <span class="string">"range : %d -&gt; %s"</span> % (cur_range, img.text)</span><br><span class="line">            content_range = img.headers.get(<span class="string">"Content-Range"</span>)</span><br><span class="line">            cur_range = re.findall(<span class="string">r"bytes (\d+)-"</span>, content_range)[<span class="number">0</span>]</span><br><span class="line">            cur_range = int(cur_range) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            img_text = img.text</span><br><span class="line">            result = [text_[::-<span class="number">1</span>] <span class="keyword">for</span> text_ <span class="keyword">in</span> img_text.split()[::-<span class="number">1</span>]]</span><br><span class="line">            <span class="keyword">print</span> <span class="string">" "</span>.join(result)</span><br><span class="line">        <span class="keyword">elif</span> img.status_code == <span class="number">416</span>:</span><br><span class="line">            cur_range = img_text.split()[-<span class="number">1</span>].strip(<span class="string">"."</span>)</span><br><span class="line">            cur_range = int(cur_range)</span><br><span class="line">            is_download = <span class="keyword">True</span></span><br></pre></td></tr></table></figure></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/challenge/" rel="tag">#challenge</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/08/13/python-challenge-21-27/" rel="prev">python challenge 21-27</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/08/07/python-challenge-0-10/" rel="next">python challenge 0-10</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div>
      
        <style type="text/css">

    .donate_bar {
        text-align: center;
        margin-top : 5%;
    }

    .donate_bar.hidden {
        display:none;
    }
/*
    .donate_bar a.btn_donate {
        display: inline-block;
        width: 82px;
        height: 82px;
        margin-left:auto;
        margin-right:auto;

        background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat;
        _background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat; 

        -webkit-transition: background 0s;
        -moz-transition: background 0s;
        -o-transition: background 0s;
        -ms-transition: background 0s;
        transition: background 0s;
    }
*/
    .donate_bar a.btn_donate:hover { 
        // background-position: 0px -82px;
        color: #87daff
    }

    .donate_bar .donate_txt {
        display: block;
        color: #9d9d9d;
        font: 14px/2 "Microsoft Yahei";
    }

    .bold { 
        font-weight: bold; 
    }

    .post-donate a {
        border-bottom: 0px;
    }

    #donate_guide table {
        border: none;
    }

    #donate_guide td {
        border-bottom: none;
        border-right: none;
        background: #333333;
        valign: top;
    }

</style>



    

    <div class ="post-donate">
        <div id="donate_board" class="donate_bar center">
              <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏">赏</a>
              <span id="donate_txt" class="donate_txt">
                   
                        仅仅是一个功能
                   
              </span>
            <br>
        </div>  
  
        <div id="donate_guide" class="donate_bar center hidden">
            <!--
            
                <a href="http://o7keinrz4.bkt.clouddn.com/alipay.jpg" title="支付宝打赏" class="fancybox" rel="article0" 
                    style="float:left;margin-left:25%;margin-right:10px;">
                    <img src="http://o7keinrz4.bkt.clouddn.com/alipay.jpg" title="" height="164px" width="164px">
                </a> 
              

            
                <a href="http://o7keinrz4.bkt.clouddn.com/wechat.jpg" title="微信打赏" class="fancybox" rel="article0"
                    style="margin-right:30%">
                    <img src="http://o7keinrz4.bkt.clouddn.com/wechat.jpg" title="" height="164px" width="164px">
                </a>
            
            -->
            <table>
                <tr>
                    <td>
                        
                            <a href="http://o7keinrz4.bkt.clouddn.com/alipay.jpg" title="支付宝打赏" class="fancybox" rel="article0" 
                                style="float:left;margin-left:25%;margin-right:10px;">
                                <img src="http://o7keinrz4.bkt.clouddn.com/alipay.jpg" title="" height="164px" width="164px">
                            </a> 
                         
                    </td>
                    <td>
                        
                            <a href="http://o7keinrz4.bkt.clouddn.com/wechat.jpg" title="微信打赏" class="fancybox" rel="article0"
                                style="margin-right:30%">
                                <img src="http://o7keinrz4.bkt.clouddn.com/wechat.jpg" title="" height="164px" width="164px">
                            </a>
                        
                    </td>
                </tr>
            </table>

        </div>

        <script type="text/javascript">
            document.getElementById('btn_donate').onclick = function() {
                $('#donate_board').addClass('hidden');
                // $('#donate_guide').removeClass('hidden');
                $('#donate_guide').show(2000);
            }

        </script>
    </div>

    


      
    </div>

    <div class="post-spread">
      
        <div class="bdsharebuttonbox">
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
	<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
	<a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              </div>
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table Of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="idhyt" itemprop="image"/>
          <p class="site-author-name" itemprop="name">idhyt</p>
        </div>
        <p class="site-description motion-element" itemprop="description">水中月.镜中花.浮华一片苍凉..</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">60</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">32</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="menu-item-icon icon-next-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://github.com/idhyt" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/idhyt3r" target="_blank">Twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/idhyt" target="_blank">Weibo</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/idhyt" target="_blank">ZhiHu</a>
              </span>
            
          
        </div>

        <div class="links-of-friendly motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
              <a href="http://blog.idhyt.com/about/" target="_blank">访客</a>
              </span>
            
          
        </div>

        
        

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_11"><span class="nav-number">1.</span> <span class="nav-text">python challenge 11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_12"><span class="nav-number">2.</span> <span class="nav-text">python challenge 12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_13"><span class="nav-number">3.</span> <span class="nav-text">python challenge 13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_14"><span class="nav-number">4.</span> <span class="nav-text">python challenge 14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_15"><span class="nav-number">5.</span> <span class="nav-text">python challenge 15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_16"><span class="nav-number">6.</span> <span class="nav-text">python challenge 16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_17"><span class="nav-number">7.</span> <span class="nav-text">python challenge 17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_18"><span class="nav-number">8.</span> <span class="nav-text">python challenge 18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_19"><span class="nav-number">9.</span> <span class="nav-text">python challenge 19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python_challenge_20"><span class="nav-number">10.</span> <span class="nav-text">python challenge 20</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp;  2011 - 
  <span itemprop="copyrightYear">2016
  </span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">idhyt
  </span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme by <a class="theme-link" href="http://blog.idhyt.com">idhyt</a>.<a class="theme-link" href="https://github.com/idhyt/hexo-theme-next/tree/magiclamp">Mala</a>
</div>

<!-- busuanzi -->



 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    


  
    <script type="text/javascript">
      var disqus_shortname = 'idhyt';
      var disqus_identifier = '2015/08/10/python-challenge-11-20/';
      var disqus_title = 'python challenge 11-20';
      var disqus_url = 'http://blog.idhyt.com/2015/08/10/python-challenge-11-20/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      var disqus_forbid = true;
      function google_forbid() {
        disqus_forbid = true;
      }

      function google_allow() {
        disqus_forbid = false;
      }

    </script>

    

      <style type="text/css">
        .show-commit-btn {
            text-align: center;
            margin-top: 5%;
            display: inline-block;
            color: #ddd;
            font: 14px/2 "Microsoft Yahei";
            background: #444;
            padding: 1px 5px;
            border-bottom: none;
            // background:url("data:image/svg+xml;base64,PD94bWwgdm3Mz4=") no-repeat 0 50%
            // background:url("http//xxxx.gif") no-repeat 0 
        }
        .show-commit-cls a:hover { 
            // background-position: 0px -82px;
            color: #87daff;
            background: none;
        }

        .show-commit-dsp {
            text-align: center;
            font: 14px/2 "Microsoft Yahei";
            color: #ddd;
            margin-top: 5%;
        }
      </style>


      <script type="text/javascript">

        // var disqus_loaded = false;

        var disqus_false_text = "Disqus评论可能被墙";

        
              disqus_false_text = "Disqus评论可能被墙，尝试加载多说。";
        
        
        var show_btn = 
          '<div class="show-commit-cls">  \
            <a id="show_commit_btn" class="show-commit-btn" href="javascript:;" title="评论">评论/查看评论</a>  \
            <div id="show_commit_dsp" class="show-commit-dsp"> ' + disqus_false_text + 
            '</div> </div>';
        var t_comments = document.getElementById("comments");
        t_comments.insertAdjacentHTML("beforeBegin", show_btn);

        $('.show-commit-dsp').hide();

        // define duoshuoQuery
        var duoshuo_shortname = 'idhyt';
        var duoshuoQuery = {short_name: duoshuo_shortname};

        document.getElementById('show_commit_btn').onclick = function() {
          // if (!disqus_loaded) 
          {
            // disqus_loaded = true;
            $('.show-commit-btn').hide();

            // if google forbid, not load disqus.
            if (!disqus_forbid) {
              run_disqus_script('count.js');
              
                run_disqus_script('embed.js');
              
            }

            // else load duoshuo.
            else if (disqus_forbid) {
              if ($('.show-commit-dsp').css("display") == "none") {
                $('.show-commit-dsp').show(1500);
              }
              
              // if google forbid then load duoshuo
              if (duoshuo_shortname) {
                (function() {
                  var ds = document.createElement('script');
                  ds.type = 'text/javascript';
                  ds.async = true;
                  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                  ds.charset = 'UTF-8';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                })();
              }
              var duoshuo_comment = 
                '<div class="ds-thread" \
                    data-thread-key="2015/08/10/python-challenge-11-20/" \
                    data-title="python challenge 11-20" data-url="http://blog.idhyt.com/2015/08/10/python-challenge-11-20/">  \
                </div>';
              t_comments.insertAdjacentHTML("afterBegin", duoshuo_comment);
            }
          }
        }

      </script>
      <!--
      <img src="https://lh4.googleusercontent.com/-lOxRXbE0_FM/V59i2VnJDxI/AAAAAAAAAAg/f2MXiY-UaAc7_f1rJXOtpQ1lbNjqRF0MQCL0B/w142-h135/disqus.jpg" style="display: none" onload="google_allow()" onerror="google_forbid()"/>
      -->
      <img src="http://disqus.com/api/users/avatars/disqus_api.jpg" style="display: none" onload="google_allow()" onerror="google_forbid()"/>

    

  





  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
